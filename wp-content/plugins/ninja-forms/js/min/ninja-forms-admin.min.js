function ninja_forms_escape_html(n){var e=document.createElement("textarea");return e.innerHTML=n,e.innerHTML}!function(n){"$:nomunge";n.fn.serializeFullArray=function(){var e=n(this).serializeArray(),i={};for(var a in e)if(e.hasOwnProperty(a)){var t=e[a].name.split(/\]|\[/);t=n.grep(t,function(n){return""!=n});var o=i;for(var l in t)if(t.hasOwnProperty(l)){var _=t[l],r={};if(l==t.length-1)var r=e[a].value;var s={};s[_]=r,n.extend(!0,o,s),o=o[_]}}return i}}(jQuery),jQuery.fn.tinymce_textareas=function(){tinyMCE.init({skin:"wp_theme"})},jQuery.fn.nextElementInDom=function(n,e){var i={stopAt:"body"};e=jQuery.extend(i,e);var a=jQuery(this).parent(),t=a.find(n);switch(!0){case t.length>0:return t;case 0===a.length||a.is(e.stopAt):return jQuery([]);default:return a.nextElementInDom(n)}},jQuery.fn.nfAdminModal=function(n,e){"object"==typeof n&&(e=n);var i={title:"",buttons:!1};if("undefined"==typeof e?(e=jQuery(this).data("nfAdminModal"),"undefined"==typeof e&&(e=jQuery.extend(i,e))):e=jQuery.extend(i,e),jQuery(this).data("nfAdminModal",e),jQuery(this).hide(),jQuery("#nf-admin-modal-content").html(this.html()),jQuery("#nf-modal-title").html(e.title),e.buttons){jQuery(e.buttons).hide();var a=jQuery(e.buttons).html();jQuery("#modal-contents-wrapper").find(".submitbox").html(a),jQuery("#nf-admin-modal-content").addClass("admin-modal-inside"),jQuery("#modal-contents-wrapper").find(".submitbox").show()}else jQuery("#nf-admin-modal-content").removeClass("admin-modal-inside"),jQuery("#modal-contents-wrapper").find(".submitbox").hide();"close"==n?jQuery.fn.nfAdminModal.close():"open"==n&&jQuery.fn.nfAdminModal.open(),jQuery(document).on("click",".modal-close",function(n){n.preventDefault(),jQuery.fn.nfAdminModal.close()})},jQuery.fn.nfAdminModal.close=function(){jQuery("#nf-admin-modal-backdrop").hide(),jQuery("#nf-admin-modal-wrap").hide(),jQuery(document).triggerHandler("nfAdminModalClose")},jQuery.fn.nfAdminModal.open=function(){jQuery("#nf-admin-modal-backdrop").show(),jQuery("#nf-admin-modal-wrap").show(),jQuery(document).triggerHandler("nfAdminModalOpen")},jQuery(document).ready(function(n){n(".ninja-forms-admin-date").datepicker(ninja_forms_settings.datepicker_args),n(".ninja-forms-select-all").click(function(){var e=this.title,i=this.checked;n("."+e).prop("checked",i)}),n("#side-sortables").sortable({placeholder:"ui-state-highlight",helper:"clone",handle:".hndl",stop:function(){var e=n("#side-sortables").sortable("toArray"),i=n("#_page").val(),a=n("#_tab").val();n.post(ajaxurl,{order:e,page:i,tab:a,action:"ninja_forms_side_sortable",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(){})}}),n(document).on("keydown","form input",function(e){if(13==e.keyCode){var i=n(this).attr("type");if("textarea"!=i)return!1}}),n(document).on("click",".metabox-item-edit",function(e){e.preventDefault(),n(this).parent().parent().find(".inside").slideToggle("fast")}),n(".hndle").dblclick(function(){n(this).prevAll(".item-controls:first").find("a").click()}),n(document).on("keyup",".ninja-forms-field-label",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_label","");var i=this.value;i=ninja_forms_escape_html(i),""==n.trim(i)&&(i=n(this).parent().parent().parent().prev().find(".item-type:first").prop("innerHTML")),n("#ninja_forms_field_"+e+"_title").prop("innerHTML",i),i.length>15&&(i=i.substring(0,15),i+="..."),n(".ninja-forms-field-conditional-cr-field option[value='"+e+"']").each(function(){n(this).text(e+" - "+i)}),n(".ninja-forms-calc-select option[value='"+e+"']").each(function(){n(this).text(e+" - "+i)})}),n(document).on("change",".ninja-forms-show-help",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_show_help",""),this.checked?n("#ninja_forms_field_"+e+"_help_span").show():n("#ninja_forms_field_"+e+"_help_span").hide()}),n(document).on("change",".ninja-forms-show-desc",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_show_desc",""),this.checked?n("#ninja_forms_field_"+e+"_desc_span").show():n("#ninja_forms_field_"+e+"_desc_span").hide()}),n(".ninja-forms-delete-form").click(function(e){e.preventDefault();var i=this.id.replace("ninja_forms_delete_form_",""),a=confirm("Really delete this form? (Irreversible)");a&&n.post(ajaxurl,{form_id:i,action:"ninja_forms_delete_form",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(){n("#ninja_forms_form_"+i+"_tr").css("background-color","#FF0000").fadeOut("slow",function(){n(this).remove()})})}),n(".ninja-forms-delete-sub").click(function(e){e.preventDefault();var i=this.id.replace("ninja_forms_sub_",""),a=confirm("Permenantly delete this item?");a&&n.post(ajaxurl,{sub_id:i,action:"ninja_forms_delete_sub",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(){n("#ninja_forms_sub_"+i+"_tr").css("background-color","#FF0000").fadeOut("slow",function(){n(this).remove()})})}),n(document).on("change",".ninja-forms-_text-default-value",function(){var e=this.id.replace("default_value_","");"_custom"==this.value?(n("#ninja_forms_field_"+e+"_default_value").val(""),n("#default_value_label_"+e).show(),n("#ninja_forms_field_"+e+"_default_value").focus()):(n("#default_value_label_"+e).hide(),n("#ninja_forms_field_"+e+"_default_value").val(this.value)),""!=this.value&&"today"!=this.value&&n("#ninja_forms_field_"+e+"_datepicker").prop("checked",!1)}),n(document).on("change",".ninja-forms-_text-mask",function(){var e=this.id.replace("mask_","");"_custom"==this.value?(n("#ninja_forms_field_"+e+"_mask").val(""),n("#mask_label_"+e).show(),n("#ninja_forms_field_"+e+"_mask").focus()):(n("#mask_label_"+e).hide(),n("#ninja_forms_field_"+e+"_mask").val(this.value)),""!=this.value&&n("#ninja_forms_field_"+e+"_datepicker").prop("checked",!1)}),n(document).on("click",".ninja-forms-mask-help",function(e){e.preventDefault(),n("#tab-panel-mask_help").is(":visible")||(n("#tab-link-mask_help").find("a").click(),n("#contextual-help-link").click().focus())}),n(document).on("change",".ninja-forms-_text-datepicker",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_datepicker",""),1==this.checked&&("today"!=n("#ninja_forms_field_"+e+"_mask").val()&&n("#ninja_forms_field_"+e+"_mask").val(""),n("#default_value_"+e).val(""),n("#default_value_label_"+e).hide(),n("#mask_"+e).val(""),n("#mask_label_"+e).hide())}),n(document).on("click",".ninja-forms-field-collapse-options",function(e){e.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_collapse_options",""),n("#ninja_forms_field_"+i+"_list_span").slideToggle(function(){})}),n(document).on("change",".ninja-forms-_list-list_type",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_list_type",""),"multi"==this.value?n("#ninja_forms_field_"+e+"_multi_size_p").show():n("#ninja_forms_field_"+e+"_multi_size_p").hide(),"radio"==this.value||"checkbox"==this.value?(n("#ninja_forms_field_"+e+"_label_pos").val("left"),n("#ninja_forms_field_"+e+"_label_pos option[value='inside']").attr("disabled",!0)):n("#ninja_forms_field_"+e+"_label_pos option[value='inside']").attr("disabled",!1)}),n(".ninja-forms-field-list-options").sortable({helper:"clone",handle:".ninja-forms-drag",items:"div",placeholder:"ui-state-highlight"}),n(document).on("change",".ninja-forms-field-list-show-value",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_list_show_value",""),this.checked?n(".ninja-forms-field-"+e+"-list-option-value").show():n(".ninja-forms-field-"+e+"-list-option-value").hide()}),n(document).on("click",".ninja-forms-field-add-list-option",function(e){e.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_list_add_option","");var a=n(".ninja-forms-field-"+i+"-list-option").length,t=n("#ninja_forms_field_"+i+"_list_show_value").prop("checked");t=t?1:0,n.post(ajaxurl,{field_id:i,x:a,hidden_value:t,action:"ninja_forms_add_list_option",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){n("#ninja_forms_field_"+i+"_list_options").append(e),n("#ninja_forms_field_"+i+"_list_option_"+a).fadeIn(),n(".ninja-forms-field-conditional-value-list").each(function(){n(this).append("<option value='' title='"+a+"'></option>")}),n("[name='ninja_forms_field_"+i+"\\[list\\]\\[options\\]\\["+a+"\\]\\[label\\]']").focus()})}),n(document).on("click",".nf-remove-list-option",function(e){e.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_list_remove_option","");var a=n(this).parent().prop("id");a=a.replace("ninja_forms_field_"+i+"_list_option_",""),n(this).parent().parent().parent().parent().parent().fadeOut(300,function(){n(this).remove()}),n(".ninja-forms-field-conditional-value-list").each(function(){n(this).children("option").each(function(){this.title==a&&n(this).remove()})})}),n(document).on("keydown",".ninja-forms-field-list-option-label",function(e){if(13==e.keyCode){var i=this.id.replace("option_label","add_option");return n("#"+i).click(),!1}}),n(document).on("keydown",".ninja-forms-field-list-option-value",function(e){if(13==e.keyCode){var i=this.id.replace("option_value","add_option");return n("#"+i).click(),!1}}),n(document).on("keydown",".ninja-forms-field-list-option-calc",function(e){if(13==e.keyCode){var i=this.id.replace("option_calc","add_option");return n("#"+i).click(),!1}}),n(document).on("keyup",".ninja-forms-field-list-option-label",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_list_option_label","");var i=this.value,a=n(this).parent().prop("id").replace("ninja_forms_field_"+e+"_list_option_",""),t=n("#ninja_forms_field_"+e+"_list_show_value").prop("checked");n(".ninja-forms-field-conditional-cr-field").each(function(){this.value==e&&n(this).nextElementInDom(".ninja-forms-field-conditional-cr-value-list").each(function(){n(this).children("option").each(function(){this.title==a&&(this.text=i,t||(this.value=i))})})}),n(".ninja-forms-field-"+e+"-conditional-value").children("option").each(function(){this.title==a&&(this.text=i,t||(this.value=i))})}),n(document).on("keyup",".ninja-forms-field-list-option-value",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_list_option_value","");var i=this.value,a=n(this).parent().parent().prop("id").replace("ninja_forms_field_"+e+"_list_option_","");n(".ninja-forms-field-conditional-cr-field").each(function(){this.value==e&&n(this).nextElementInDom(".ninja-forms-field-conditional-cr-value-list").each(function(){n(this).children("option").each(function(){this.title==a&&(this.value=i)})})}),n(".ninja-forms-field-"+e+"-conditional-value").children("option").each(function(){this.title==a&&(this.value=i)})}),n(document).on("change",".ninja-forms-hidden-default-value",function(){var e=n(this).attr("rel");"custom"==this.value?(n("#ninja_forms_field_"+e+"_default_value").val(""),n("#default_value_label_"+e).show(),n("#ninja_forms_field_"+e+"_default_value").focus()):(n("#ninja_forms_field_"+e+"_default_value").val(this.value),n("#default_value_label_"+e).hide())}),n(".cancel-list-import").click(function(n){n.preventDefault(),tb_remove()}),n(document).on("click",".save-list-import",function(e){e.preventDefault();var i=n(this).parent().find("textarea").val(),a=n(this).attr("rel");n.post(ajaxurl,{options:i,field_id:a,action:"ninja_forms_import_list_options",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){n("#ninja_forms_field_"+a+"_list_options").append(e),tb_remove()})}),n(document).on("change",".ninja-forms-list-populate-term",function(){var e=n(this).attr("rel");""!=this.value?n.post(ajaxurl,{field_id:e,tax_name:this.value,from_ajax:1,action:"ninja_forms_list_terms_checkboxes",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(i){n("#ninja_forms_field_"+e+"_exclude_terms").html(i),n("#ninja_forms_field_"+e+"_exclude_terms").show()}):n("#ninja_forms_field_"+e+"_exclude_terms").hide()}),n(document).on("change",".ninja-forms-_profile_pass-reg_password",function(){this.checked?n(".reg-password").parent().parent().show():n(".reg-password").parent().parent().hide()}),n(document).on("click",".ninja-forms-field-add-calc",function(e){e.preventDefault();var i=n(this).attr("rel"),a=n(this).next(".spinner");n(a).show();var t=n("#ninja_forms_field_"+i+"_calc").find(".ninja-forms-calc-row:last").attr("rel");isNaN(t)?t=0:(t=parseInt(t),t+=1),n.post(ajaxurl,{field_id:i,x:t,action:"ninja_forms_add_calc_row",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){n("#ninja_forms_field_"+i+"_calc").append(e),n(a).hide()})}),n(document).on("click",".ninja-forms-field-remove-calc",function(e){e.preventDefault();var i=n(this).attr("rel"),a=n(this).attr("name");n("#ninja_forms_field_"+i+"_calc_row_"+a).hide(function(){n("#ninja_forms_field_"+i+"_calc_row_"+a).remove()})}),n(document).on("keyup",".ninja-forms-calc-name",function(){var e=n(this).prop("id");e=e.replace("ninja_forms_field_",""),e=e.replace("_calc_name","");var i=this.value;i=ninja_forms_escape_html(i),""==n.trim(i)&&(i="calc_name"),n(this).parent().parent().parent().prev().find(".ninja-forms-field-title").html(i)}),n(document).bind("addField",function(e,i){n(".ninja-forms-calc-select").each(function(){n(this).append('<option value="'+i.new_id+'">'+i.new_id+" - "+i.new_type+"</option>")})}),n(document).bind("removeField",function(e,i){n(".ninja-forms-calc-select option[value='"+i+"']").remove()}),n(document).on("change",".ninja-forms-calc-display",function(){var e=this.id.replace("ninja_forms_field_","");e=e.replace("_calc_display_type",""),"html"==this.value?(n("#ninja_forms_field_"+e+"_calc_text_display").hide(),n("#ninja_forms_field_"+e+"_calc_html_display").show(),n("#ninja_forms_field_"+e+"_calc_extra_display").show(),n("#ninja_forms_field_"+e+"_label").val("")):"text"==this.value?(n("#ninja_forms_field_"+e+"_calc_text_display").show(),n("#ninja_forms_field_"+e+"_calc_html_display").hide(),n("#ninja_forms_field_"+e+"_calc_extra_display").show()):(n("#ninja_forms_field_"+e+"_calc_text_display").hide(),n("#ninja_forms_field_"+e+"_calc_html_display").hide(),n("#ninja_forms_field_"+e+"_calc_extra_display").hide(),n("#ninja_forms_field_"+e+"_label").val(""))}),n(document).on("change",".ninja-forms-calc-method",function(){"auto"==this.value?(n(this).parent().parent().parent().find(".ninja-forms-calculations").hide(),n(this).parent().parent().parent().find(".ninja-forms-eq").hide()):"fields"==this.value?(n(this).parent().parent().parent().find(".ninja-forms-calculations").show(),n(this).parent().parent().parent().find(".ninja-forms-eq").hide()):(n(this).parent().parent().parent().find(".ninja-forms-calculations").hide(),n(this).parent().parent().parent().find(".ninja-forms-eq").show())}),n(document).on("change",".user-info-group-name",function(){"custom"==this.value?(n(this).parent().parent().next().find(".user-info-custom-group").show(),n(this).parent().parent().next().find("label").show()):(n(this).parent().parent().next().find("label").hide(),n(this).parent().parent().next().find(".user-info-custom-group").hide())}),n(document).on("click",".ninja-forms-field-add-fav",function(e){e.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_fav","");var a=new Object,t=this.id;n("[name*='ninja_forms_field_"+i+"']").each(function(){tmp=this.name.replace("ninja_forms_field_"+i+"[",""),tmp=tmp.replace("]",""),"checkbox"==this.type?this.checked&&(a['"'+tmp+'"']=this.value):a['"'+tmp+'"']=this.value});var o=prompt(ninja_forms_settings.add_fav_prompt,"");if(o.length>=1)n.post(ajaxurl,{fav_name:o,field_data:a,field_id:i,action:"ninja_forms_add_fav",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){n("#ninja_forms_field_"+i+"_fav").removeClass("ninja-forms-field-add-fav"),n("#ninja_forms_field_"+i+"_fav").addClass("ninja-forms-field-remove-fav"),n("#ninja_forms_sidebar_fav_fields").append(e.link_html),n("#ninja_forms_field_"+i+"_title").nextElementInDom(".item-type-name:first").prop("innerHTML",e.fav_name),n("#ninja_forms_field_"+i+"_fav_id").val(e.fav_id)});else{var l=confirm(ninja_forms_settings.add_fav_error);l&&n("#"+t).click()}}),n(document).on("click",".ninja-forms-field-remove-fav",function(e){e.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_fav",""),n.post(ajaxurl,{field_id:i,action:"ninja_forms_remove_fav",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){n("#ninja_forms_insert_fav_field_"+e.fav_id+"_p").remove(),n(".ninja-forms-field-fav-id").each(function(){if(this.value==e.fav_id){var i=this.id.replace("ninja_forms_field_","");i=i.replace("_fav_id",""),n("#ninja_forms_field_"+i+"_fav").removeClass("ninja-forms-field-remove-fav"),n("#ninja_forms_field_"+i+"_fav").addClass("ninja-forms-field-add-fav"),n("#ninja_forms_field_"+i+"_title").nextElementInDom(".item-type-name:first").prop("innerHTML",e.type_name)}})})}),n(document).on("click",".ninja-forms-field-add-def",function(e){e.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_def","");var a=new Object,t=this.id;n("[name*='ninja_forms_field_"+i+"']").each(function(){tmp=this.name.replace("ninja_forms_field_"+i+"[",""),tmp=tmp.replace("]",""),"checkbox"==this.type?this.checked&&(a['"'+tmp+'"']=this.value):a['"'+tmp+'"']=this.value});var o=prompt("What would you like to name this Defined Field?","");if(o.length>=1)n.post(ajaxurl,{def_name:o,field_data:a,field_id:i,action:"ninja_forms_add_def",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){n("#ninja_forms_sidebar_def_fields").append(e.link_html),n("#ninja_forms_field_"+i+"_title").nextElementInDom(".item-type:first").prop("innerHTML",e.def_name),n("#ninja_forms_field_"+i+"_def_id").val(e.def_id)});else{var l=confirm("You must supply a name for this Defined Field.");l&&n("#"+t).click()}}),n(document).on("click",".ninja-forms-field-remove-def",function(e){e.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_def",""),n.post(ajaxurl,{field_id:i,action:"ninja_forms_remove_def",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(e){n("#ninja_forms_insert_def_field_"+e.def_id+"_p").remove()})}),n(document).on("click","#nf_deactivate_all_licenses",function(){var n=confirm(ninja_forms_settings.deactivate_all_licenses_confirm);return n?void 0:!1}),n(document).on("change","#delete_on_uninstall",function(){if(this.checked){var n=confirm(ninja_forms_settings.nuke_warning);n||(this.checked=!1)}})});